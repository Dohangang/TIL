/*
ë¬¸ì œ ì„¤ëª…:
ì§€ë„ê°œë°œíŒ€ì—ì„œ ê·¼ë¬´í•˜ëŠ” ì œì´ì§€ëŠ” ì§€ë„ì—ì„œ ë„ì‹œ ì´ë¦„ì„ ê²€ìƒ‰í•˜ë©´ í•´ë‹¹ ë„ì‹œì™€ ê´€ë ¨ëœ ë§›ì§‘ ê²Œì‹œë¬¼ë“¤ì„ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì½ì–´ ë³´ì—¬ì£¼ëŠ” ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ê³  ìžˆë‹¤.
ì´ í”„ë¡œê·¸ëž¨ì˜ í…ŒìŠ¤íŒ… ì—…ë¬´ë¥¼ ë‹´ë‹¹í•˜ê³  ìžˆëŠ” ì–´í”¼ì¹˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì˜¤í”ˆí•˜ê¸° ì „ ê° ë¡œì§ì— ëŒ€í•œ ì„±ëŠ¥ ì¸¡ì •ì„ ìˆ˜í–‰í•˜ì˜€ëŠ”ë°, 
ì œì´ì§€ê°€ ìž‘ì„±í•œ ë¶€ë¶„ ì¤‘ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê²Œì‹œë¬¼ì„ ê°€ì ¸ì˜¤ëŠ” ë¶€ë¶„ì˜ ì‹¤í–‰ì‹œê°„ì´ ë„ˆë¬´ ì˜¤ëž˜ ê±¸ë¦°ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤.
ì–´í”¼ì¹˜ëŠ” ì œì´ì§€ì—ê²Œ í•´ë‹¹ ë¡œì§ì„ ê°œì„ í•˜ë¼ê³  ë‹¦ë‹¬í•˜ê¸° ì‹œìž‘í•˜ì˜€ê³ , ì œì´ì§€ëŠ” DB ìºì‹œë¥¼ ì ìš©í•˜ì—¬ ì„±ëŠ¥ ê°œì„ ì„ ì‹œë„í•˜ê³  ìžˆì§€ë§Œ 
ìºì‹œ í¬ê¸°ë¥¼ ì–¼ë§ˆë¡œ í•´ì•¼ íš¨ìœ¨ì ì¸ì§€ ëª°ë¼ ë‚œê°í•œ ìƒí™©ì´ë‹¤.

ì–´í”¼ì¹˜ì—ê²Œ ì‹œë‹¬ë¦¬ëŠ” ì œì´ì§€ë¥¼ ë„ì™€, DB ìºì‹œë¥¼ ì ìš©í•  ë•Œ ìºì‹œ í¬ê¸°ì— ë”°ë¥¸ ì‹¤í–‰ì‹œê°„ ì¸¡ì • í”„ë¡œê·¸ëž¨ì„ ìž‘ì„±í•˜ì‹œì˜¤.


ìž…ë ¥ í˜•ì‹:
ðŸ“Œ ìºì‹œ í¬ê¸°(cacheSize)ì™€ ë„ì‹œì´ë¦„ ë°°ì—´(cities)ì„ ìž…ë ¥ë°›ëŠ”ë‹¤.
ðŸ“Œ cacheSizeëŠ” ì •ìˆ˜ì´ë©°, ë²”ìœ„ëŠ” 0 â‰¦ cacheSize â‰¦ 30 ì´ë‹¤.
ðŸ“Œ citiesëŠ” ë„ì‹œ ì´ë¦„ìœ¼ë¡œ ì´ë¤„ì§„ ë¬¸ìžì—´ ë°°ì—´ë¡œ, ìµœëŒ€ ë„ì‹œ ìˆ˜ëŠ” 100,000ê°œì´ë‹¤.
ðŸ“Œ ê° ë„ì‹œ ì´ë¦„ì€ ê³µë°±, ìˆ«ìž, íŠ¹ìˆ˜ë¬¸ìž ë“±ì´ ì—†ëŠ” ì˜ë¬¸ìžë¡œ êµ¬ì„±ë˜ë©°, ëŒ€ì†Œë¬¸ìž êµ¬ë¶„ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤. ë„ì‹œ ì´ë¦„ì€ ìµœëŒ€ 20ìžë¡œ ì´ë£¨ì–´ì ¸ ìžˆë‹¤.

ì¶œë ¥ í˜•ì‹:
ðŸ“Œ ìž…ë ¥ëœ ë„ì‹œì´ë¦„ ë°°ì—´ì„ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•  ë•Œ, "ì´ ì‹¤í–‰ì‹œê°„"ì„ ì¶œë ¥í•œë‹¤.

ì œí•œì‚¬í•­:
ðŸ“Œ ìºì‹œ êµì²´ ì•Œê³ ë¦¬ì¦˜ì€ LRU(Least Recently Used)ë¥¼ ì‚¬ìš©í•œë‹¤.
ðŸ“Œ cache hitì¼ ê²½ìš° ì‹¤í–‰ì‹œê°„ì€ 1ì´ë‹¤.
ðŸ“Œ cache missì¼ ê²½ìš° ì‹¤í–‰ì‹œê°„ì€ 5ì´ë‹¤.
*/

function solution(cacheSize, cities) {
  if (cacheSize === 0) return cities.length * 5;

  const cache = new Map();
  let totalTime = 0;

  for (let city of cities) {
    city = city.toLowerCase();

    if (cache.has(city)) {
      totalTime += 1;
      cache.delete(city);
      cache.set(city, true);
    } else {
      totalTime += 5;
      if (cache.size >= cacheSize) {
        const oldestKey = cache.keys().next().value;
        cache.delete(oldestKey);
      }
      cache.set(city, true);
    }
  }

  return totalTime;
}
